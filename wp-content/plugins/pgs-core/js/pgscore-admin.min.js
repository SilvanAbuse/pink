var vcCiyaShopCustomIconDependencyCallback,vcCiyaShopInfoBoxDependencyCallback,vcCiyaShopInfoBoxStepDependencyCallback,vcCiyaShopCatItemsCountDependencyCallback;!function(o){o(document).ready(function(){var i;function e(){o("#smart-product-metabox-list li").each(function(t){o(this).find("input:hidden").attr("name","ciyashop_smart_product_id["+t+"]")})}function a(){o("#smart-product-metabox-list").sortable({opacity:.6,stop:function(){e()}})}jQuery(".ciyashop-sguide-table-edit").length&&jQuery(".ciyashop-sguide-table-edit").each(function(){jQuery(this).editTable()}),o(document).on("click","#smart-product-metabox a.smart-product-add",function(t){t.preventDefault(),i&&i.close(),(i=wp.media.frames.smart_product=wp.media({title:o(this).data("uploader-title"),button:{text:o(this).data("uploader-button-text")},multiple:!0})).on("select",function(){var a=o("#smart-product-metabox-list li").index(o("#smart-product-metabox-list li:last"));i.state().get("selection").map(function(t,e){t=t.toJSON(),index=a+(e+1);var i=o(t,"img").attr("title");o("#smart-product-metabox-list").append('<li><input type="hidden" name="ciyashop_smart_product_id['+index+']" value="'+t.id+'"><img class="image-preview" src="'+t.sizes.thumbnail.url+'"><small><a class="remove-image button" href="#"><i title="Remove Image" class="fa fa-times-circle" aria-hidden="true"></i></a></small><div class="product_title">'+i+'</div><a class="change-image button button-small" href="#" data-uploader-title="Change image" data-uploader-button-text="Change image"><i title="Change image" class="fa fa-exchange" aria-hidden="true"></i></a><br></li>')})}),a(),i.open()}),o(document).on("click","#smart-product-metabox a.change-image",function(t){t.preventDefault();var e=o(this);i&&i.close(),(i=wp.media.frames.smart_product=wp.media({title:o(this).data("uploader-title"),button:{text:o(this).data("uploader-button-text")},multiple:!1})).on("select",function(){attachment=i.state().get("selection").first().toJSON();var t=o(attachment,"img").attr("title");e.parent().find("input:hidden").attr("value",attachment.id),e.parent().find("img.image-preview").attr("src",attachment.sizes.thumbnail.url),e.parent().find(".change-image.button.button-small").prev().text(t)}),i.open()}),o(document).on("click","#smart-product-metabox a.remove-image",function(t){t.preventDefault(),o(this).parents("li").animate({opacity:0},200,function(){o(this).remove(),e()})}),a()})}(jQuery),vcCiyaShopCustomIconDependencyCallback=function(){!function(e,t){e('[data-vc-shortcode-param-name="layout"]',t.$content);var i=e("ul.image_picker_selector li");e(i).each(function(t){e(document).on("click",t,function(){"Style 3"==e(this).find(".thumbnail.selected").find("p").html()?e("ul.vc_ui-tabs-line").find("[data-tab-index=3]").hide():e("ul.vc_ui-tabs-line").find("[data-tab-index=3]").is(":hidden")&&e("ul.vc_ui-tabs-line").find("[data-tab-index=3]").show()})})}(window.jQuery,this)},vcCiyaShopInfoBoxDependencyCallback=function(){var e,t;e=window.jQuery,t=e("ul.image_picker_selector li"),e(t).each(function(t){e(document).on("click",t,function(){"Style 1"==e(this).find(".thumbnail.selected").find("p").html()?e("ul.vc_ui-tabs-line").find("[data-tab-index=2]").hide():e("ul.vc_ui-tabs-line").find("[data-tab-index=2]").is(":hidden")&&e("ul.vc_ui-tabs-line").find("[data-tab-index=2]").show()})})},vcCiyaShopInfoBoxStepDependencyCallback=function(){var t,e;t=window.jQuery,e=t('[data-vc-shortcode-param-name="enable_step"]',this.$content).find("#enable_step-true"),t(e).on("change",function(){t(this).is(":checked")?t('[data-vc-shortcode-param-name="style_2_step_position"]').show():t('[data-vc-shortcode-param-name="style_2_step_position"]').hide()})},vcCiyaShopCatItemsCountDependencyCallback=function(){var t,e;t=window.jQuery,e=t('[data-vc-shortcode-param-name="hide_categories_count"]',this.$content).find("#hide_categories_count-true"),t(e).on("change",function(){t(this).is(":checked")?t('[data-vc-shortcode-param-name="product_title_color"]').hide():t('[data-vc-shortcode-param-name="product_title_color"]').show()})},function(a){jQuery(".set-position-button").live("click",function(t){if(t.preventDefault(),!jQuery(this).hasClass("already-set")){var e="Image"==a(".image_source").find(":selected").text()?a(".pgscore-hotspot-img .gallery_widget_attached_images img").attr("src"):a(".hotspot_box_img_link").val(),i=a(this).parents(".pgscore-position").find(".list_items_position").val();e=e.replace("-150x150","",e),a(this).parents(".pgscore-position").append('<div class="hotspot-image-wrapper"><div class="pgscore-hotspot-cover"><img src="'+e+'" /><div class="pgscore-hotspot-overlay"></div><div class="pgscore-hotspot-pointer"></div></div></div>'),i=i.split("||"),a(this).parents(".pgscore-position").find(".pgscore-hotspot-pointer").css({top:i[1]+"%",left:i[0]+"%"}),a(this).addClass("already-set");var o=a(this).parents(".pgscore-position");jQuery(".pgscore-hotspot-pointer").draggable({containment:o.find(".pgscore-hotspot-cover"),scroll:!1,drag:function(t,e){var i=(e.position.left+3)/o.find(".pgscore-hotspot-cover").width()*100,a=(e.position.top+3)/o.find(".pgscore-hotspot-cover").height()*100;i=i.toFixed(2),a=a.toFixed(2),o.find(".list_items_position").val(i+"||"+a),o.find(".pgscore-hotspot-pointer").css({top:a+"%",left:i+"%"})}})}})}(jQuery),jQuery(".pgscore-position .pgscore-hotspot-cover .pgscore-hotspot-overlay").live("click",function(t){var e=jQuery(this).offset(),i=(t.pageX-e.left)/jQuery(this).width()*100,a=(t.pageY-e.top)/jQuery(this).height()*100;i=i.toFixed(2),a=a.toFixed(2),jQuery(this).parents(".pgscore-position").find(".list_items_position").val(i+"||"+a),jQuery(this).parents(".pgscore-position").find(".pgscore-hotspot-pointer").css({top:a+"%",left:i+"%"})}),jQuery(".vc_param_group-add_content, .column_toggle").live("click",function(){jQuery(".pgscore-position").each(function(){jQuery(this).find(".set-position-button").length||jQuery(this).find(".edit_form_line").append('<button class="vc_ui-button vc_ui-button-action button set-position-button">'+object.set_possition+"</button>")})});